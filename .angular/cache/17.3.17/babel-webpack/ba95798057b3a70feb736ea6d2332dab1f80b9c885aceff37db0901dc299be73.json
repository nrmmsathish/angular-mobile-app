{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"chatMessages\"];\nfunction ChatbotComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"div\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", message_r2.type + \"-message\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r2.content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.formatTime(message_r2.timestamp));\n  }\n}\nexport let ChatbotComponent = /*#__PURE__*/(() => {\n  class ChatbotComponent {\n    constructor(router) {\n      this.router = router;\n      this.messages = [];\n      this.currentMessage = '';\n      this.shouldScrollToBottom = false;\n      this.messages.push({\n        id: '1',\n        type: 'assistant',\n        content: 'Good day! I am your investment banking advisor. How may I assist you today?',\n        timestamp: new Date()\n      });\n    }\n    sendMessage() {\n      if (!this.currentMessage.trim()) return;\n      // Add user message\n      const userMessage = {\n        id: Date.now().toString(),\n        type: 'user',\n        content: this.currentMessage,\n        timestamp: new Date()\n      };\n      this.messages.push(userMessage);\n      this.shouldScrollToBottom = true;\n      // Store current message for response generation\n      const userInput = this.currentMessage;\n      this.currentMessage = '';\n      // Generate AI response after a short delay\n      setTimeout(() => {\n        const response = this.generateInvestmentResponse(userInput);\n        const aiMessage = {\n          id: (Date.now() + 1).toString(),\n          type: 'assistant',\n          content: response,\n          timestamp: new Date()\n        };\n        this.messages.push(aiMessage);\n        this.shouldScrollToBottom = true;\n      }, 1000);\n    }\n    ngAfterViewChecked() {\n      if (this.shouldScrollToBottom) {\n        this.scrollToBottom();\n        this.shouldScrollToBottom = false;\n      }\n    }\n    scrollToBottom() {\n      try {\n        this.chatMessages.nativeElement.scrollTop = this.chatMessages.nativeElement.scrollHeight;\n      } catch (err) {\n        console.log('Could not scroll to bottom:', err);\n      }\n    }\n    generateInvestmentResponse(userInput) {\n      const input = userInput.toLowerCase();\n      const responses = ['Based on current market analysis, I recommend diversifying your portfolio across technology, healthcare, and renewable energy sectors.', 'Our latest research indicates strong growth potential in emerging markets, particularly in Asia-Pacific regions.', 'Consider dollar-cost averaging for volatile positions to minimize risk exposure while maintaining upside potential.', 'The Federal Reserve\\'s monetary policy suggests maintaining defensive positions in fixed income securities.', 'ESG investing continues to show strong performance metrics with lower volatility compared to traditional indices.', 'Current market volatility presents opportunities for value investing in fundamentally strong companies.', 'I recommend reviewing your risk tolerance and adjusting your asset allocation accordingly for optimal returns.'];\n      // Simple keyword-based responses\n      if (input.includes('portfolio') || input.includes('invest')) {\n        return responses[0];\n      } else if (input.includes('market') || input.includes('trend')) {\n        return responses[1];\n      } else if (input.includes('risk') || input.includes('safe')) {\n        return responses[2];\n      } else {\n        // Return a random professional response\n        return responses[Math.floor(Math.random() * responses.length)];\n      }\n    }\n    formatTime(timestamp) {\n      return timestamp.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    goBack() {\n      this.router.navigate(['/discover']);\n    }\n    static {\n      this.ɵfac = function ChatbotComponent_Factory(t) {\n        return new (t || ChatbotComponent)(i0.ɵɵdirectiveInject(i1.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ChatbotComponent,\n        selectors: [[\"app-chatbot\"]],\n        viewQuery: function ChatbotComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chatMessages = _t.first);\n          }\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 15,\n        vars: 3,\n        consts: [[\"chatMessages\", \"\"], [1, \"chatbot-container\"], [1, \"chat-header\"], [1, \"back-btn\", 3, \"click\"], [1, \"chat-messages\"], [\"class\", \"message\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"message-input-container\"], [1, \"input-wrapper\"], [\"type\", \"text\", \"placeholder\", \"Ask about investments, portfolio advice, or market insights...\", 1, \"message-input\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\"], [1, \"send-btn\", 3, \"click\", \"disabled\"], [1, \"send-icon\"], [1, \"message\", 3, \"ngClass\"], [1, \"message-content\"], [1, \"message-text\"], [1, \"message-time\"]],\n        template: function ChatbotComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"button\", 3);\n            i0.ɵɵlistener(\"click\", function ChatbotComponent_Template_button_click_2_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.goBack());\n            });\n            i0.ɵɵtext(3, \"\\u2190 Back\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"h3\");\n            i0.ɵɵtext(5, \"Investment Advisor\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 4, 0);\n            i0.ɵɵtemplate(8, ChatbotComponent_div_8_Template, 6, 3, \"div\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"input\", 8);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function ChatbotComponent_Template_input_ngModelChange_11_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.currentMessage, $event) || (ctx.currentMessage = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"keyup.enter\", function ChatbotComponent_Template_input_keyup_enter_11_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.sendMessage());\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function ChatbotComponent_Template_button_click_12_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.sendMessage());\n            });\n            i0.ɵɵelementStart(13, \"span\", 10);\n            i0.ɵɵtext(14, \"\\u2192\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.currentMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", !ctx.currentMessage.trim());\n          }\n        },\n        dependencies: [CommonModule, i2.NgClass, i2.NgForOf, FormsModule, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n        styles: [\".chatbot-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);position:relative;overflow:hidden;animation:_ngcontent-%COMP%_fadeInUp .6s cubic-bezier(.25,.46,.45,.94)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.chat-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#fafafa);display:flex;align-items:center;padding:14px 20px;border-bottom:1px solid #e8e8e8;box-shadow:0 1px #0000000d,0 2px 4px #00000005;position:relative;z-index:10;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.chat-header[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;bottom:0;left:20px;right:20px;height:1px;background:linear-gradient(90deg,transparent,rgba(0,0,0,.1),transparent)}.chat-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:17px;font-weight:600;color:#1d1d1f;letter-spacing:-.4px;margin:0 0 0 -60px}.back-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:15px;color:#007aff;cursor:pointer;padding:6px 8px;margin-right:8px;border-radius:6px;transition:all .3s cubic-bezier(.25,.46,.45,.94);display:flex;align-items:center;gap:2px;font-weight:400;letter-spacing:-.2px;position:relative;overflow:hidden;min-width:60px;justify-content:flex-start}.back-btn[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,122,255,.1),transparent);transition:left .5s}.back-btn[_ngcontent-%COMP%]:hover:before{left:100%}.back-btn[_ngcontent-%COMP%]:hover{background-color:#007aff14;transform:translate(-1px);color:#0056b3}.back-btn[_ngcontent-%COMP%]:active{transform:translate(0) scale(.98);background-color:#007aff26}.chat-info[_ngcontent-%COMP%]{flex:1}.chat-participants[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.participant-avatars[_ngcontent-%COMP%]{display:flex;gap:-8px}.avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-lg);border:2px solid var(--background-primary);margin-left:-4px}.avatar.vivek[_ngcontent-%COMP%]{background:#4caf50;z-index:3}.avatar.manoj[_ngcontent-%COMP%]{background:#2196f3;z-index:2}.avatar.ai[_ngcontent-%COMP%]{background:gold;z-index:1}.avatar.user[_ngcontent-%COMP%]{background:#4caf50}.chat-details[_ngcontent-%COMP%]{flex:1}.chat-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#000;margin:0 0 2px}.chat-date[_ngcontent-%COMP%]{font-size:12px;color:#8e8e93;margin:0}.more-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#8e8e93;cursor:pointer;padding:8px}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:16px;margin-bottom:80px}.message-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:12px}.user-message[_ngcontent-%COMP%]{flex-direction:row-reverse}.message-avatar[_ngcontent-%COMP%]{flex-shrink:0}.user-message[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background:#4caf50}.ai-message[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background:gold}.message-content[_ngcontent-%COMP%]{max-width:70%;min-width:120px}.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{align-items:flex-end}.message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;gap:8px}.user-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.sender-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#8e8e93}.message-time[_ngcontent-%COMP%]{font-size:11px;color:#c7c7cc}.message-text[_ngcontent-%COMP%]{background:#fff;padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.4;color:#000;box-shadow:0 1px 2px #0000001a;white-space:pre-line}.user-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#007aff;color:#fff;border-bottom-right-radius:4px}.ai-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#fff;border-bottom-left-radius:4px}.typing-indicator[_ngcontent-%COMP%]{background:#fff;padding:12px 16px;border-radius:18px 18px 18px 4px;box-shadow:0 1px 2px #0000001a}.typing-dots[_ngcontent-%COMP%]{display:flex;gap:4px}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#c7c7cc;animation:_ngcontent-%COMP%_typing 1.4s infinite ease-in-out}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:0ms}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:scale(1);opacity:.5}30%{transform:scale(1.2);opacity:1}}.message-input-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:16px;border-top:1px solid #e5e5e7;box-shadow:0 -2px 10px #0000001a;z-index:1000;height:180px;box-sizing:border-box}.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f2f2f7;border-radius:24px;padding:12px 16px;border:1px solid #e5e5e7;min-height:44px}.message-input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;outline:none;font-size:16px;color:#000;padding:8px 0;min-height:20px}.message-input[_ngcontent-%COMP%]::placeholder{color:#8e8e93}.send-btn[_ngcontent-%COMP%]{background:#007aff;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.send-btn[_ngcontent-%COMP%]:disabled{background:#c7c7cc;cursor:not-allowed}.send-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:#0056b3;transform:scale(1.05)}.send-icon[_ngcontent-%COMP%]{font-size:14px;color:#fff}.message-text[_ngcontent-%COMP%]     strong{font-weight:600;color:#000}.message-text[_ngcontent-%COMP%]     ul{margin:8px 0;padding-left:16px}.message-text[_ngcontent-%COMP%]     li{margin-bottom:4px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}\"]\n      });\n    }\n  }\n  return ChatbotComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}