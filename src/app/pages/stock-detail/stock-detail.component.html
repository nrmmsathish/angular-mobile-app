<div class="stock-detail-container">
  <!-- Header Section -->
  <div class="stock-header">
    <button class="back-button" (click)="goBack()">
      <span class="back-arrow">‚Äπ</span>
    </button>
    
    <div class="stock-title">
      <span class="market-label">{{stockInfo.market}}</span>
      <div class="stock-name">{{stockInfo.name}}({{stockInfo.symbol}})</div>
      <div class="stock-status">{{stockInfo.status}} {{stockInfo.openTime}}</div>
    </div>
    
    <div class="header-actions">
      <button class="ai-button" (click)="openAIChat()">
        <div class="ai-icon">ü§ñ</div>
        <span>AI</span>
      </button>
      <button class="search-button">üîç</button>
      <button class="share-button">üì§</button>
    </div>
  </div>
  
  <!-- Price Section -->
  <div class="price-section">
    <div class="current-price">{{stockInfo.price}}</div>
    <div class="price-change" [class.positive]="stockInfo.isPositive" [class.negative]="!stockInfo.isPositive">
      <span class="change-arrow">{{stockInfo.isPositive ? '‚ñ≤' : '‚ñº'}}</span>
      <span class="change-value">{{stockInfo.change}} ({{stockInfo.changePercent}}%)</span>
    </div>
    
    <div class="action-buttons">
      <button class="action-btn trade-btn">‚ö°</button>
      <button class="action-btn options-btn">üìä</button>
    </div>
  </div>
  
  <!-- Stock Stats -->
  <div class="stats-grid">
    <div class="stat-row">
      <div class="stat-item">
        <span class="stat-label">High</span>
        <span class="stat-value">{{stockInfo.high}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Open</span>
        <span class="stat-value">{{stockInfo.open}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Vol</span>
        <span class="stat-value">{{stockInfo.volume}}</span>
      </div>
    </div>
    
    <div class="stat-row">
      <div class="stat-item">
        <span class="stat-label">Low</span>
        <span class="stat-value">{{stockInfo.low}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Prev Close</span>
        <span class="stat-value">{{stockInfo.prevClose}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">T/O</span>
        <span class="stat-value">1.02B</span>
      </div>
    </div>
    
    <div class="stat-row">
      <div class="stat-item">
        <span class="stat-label">T/O Rate</span>
        <span class="stat-value">{{stockInfo.turnoverRate}}%</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">P/E ‚Ñ¢</span>
        <span class="stat-value">{{stockInfo.peRatio === 0 ? '--' : stockInfo.peRatio}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Mkt Cap</span>
        <span class="stat-value">{{stockInfo.marketCap}}</span>
      </div>
    </div>
    
    <div class="stat-row">
      <div class="stat-item">
        <span class="stat-label">Amplitude</span>
        <span class="stat-value">{{stockInfo.amplitude}}%</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">P/B</span>
        <span class="stat-value">{{stockInfo.pbRatio === 0 ? '--' : stockInfo.pbRatio}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Float Cap</span>
        <span class="stat-value">{{stockInfo.floatCap}}</span>
      </div>
    </div>
    
    <div class="stat-row">
      <div class="stat-item">
        <span class="stat-label">Gainers</span>
        <span class="stat-value">{{stockInfo.gainers}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Unchanged</span>
        <span class="stat-value">{{stockInfo.unchanged}}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Losers</span>
        <span class="stat-value">{{stockInfo.losers}}</span>
      </div>
    </div>
  </div>
  
  <!-- Discussion Banner -->
  <div class="discussion-banner">
    <div class="discussion-icon">üí¨</div>
    <span class="discussion-text">&#64;Daily_Discuss...üìäEarnings, macro, or momentum ‚Äî what's...</span>
    <button class="close-banner">‚úï</button>
  </div>
  
  <!-- Chart Section -->
  <div class="chart-section">
    <div class="timeframe-selector">
      <button 
        *ngFor="let timeframe of timeframes" 
        class="timeframe-btn"
        [class.active]="timeframe === selectedTimeframe"
        (click)="selectTimeframe(timeframe)">
        {{timeframe}}
      </button>
      <div class="chart-actions">
        <button class="chart-action">üìà</button>
        <button class="chart-action">‚öôÔ∏è</button>
      </div>
    </div>
    
    <!-- Chart Section -->
    <div class="chart-placeholder">
      <div class="chart-container">
        <svg viewBox="0 0 600 300" class="price-chart">
          <!-- Chart background -->
          <rect width="100%" height="100%" fill="#ffffff"/>
          
          <!-- Horizontal grid lines -->
          <line x1="40" y1="40" x2="560" y2="40" stroke="#f0f0f0" stroke-width="1" stroke-dasharray="3,3"/>
          <line x1="40" y1="80" x2="560" y2="80" stroke="#f0f0f0" stroke-width="1" stroke-dasharray="3,3"/>
          <line x1="40" y1="120" x2="560" y2="120" stroke="#f0f0f0" stroke-width="1" stroke-dasharray="3,3"/>
          <line x1="40" y1="160" x2="560" y2="160" stroke="#f0f0f0" stroke-width="1" stroke-dasharray="3,3"/>
          <line x1="40" y1="200" x2="560" y2="200" stroke="#f0f0f0" stroke-width="1" stroke-dasharray="3,3"/>
          <line x1="40" y1="240" x2="560" y2="240" stroke="#f0f0f0" stroke-width="1" stroke-dasharray="3,3"/>
          
          <!-- Candlestick data points for Bitcoin ETF -->
          <g *ngIf="stockInfo.symbol === 'BK4594'">
            <!-- Early 2025 - Lower prices around 1500-1800 -->
            <rect x="50" y="260" width="4" height="15" fill="#ef4444" />
            <line x1="52" y1="255" x2="52" y2="280" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="58" y="250" width="4" height="20" fill="#ef4444" />
            <line x1="60" y1="245" x2="60" y2="275" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="66" y="240" width="4" height="25" fill="#10b981" />
            <line x1="68" y1="235" x2="68" y2="270" stroke="#10b981" stroke-width="1"/>
            
            <!-- March 2025 - Start of crypto bull run -->
            <rect x="80" y="220" width="4" height="18" fill="#10b981" />
            <line x1="82" y1="215" x2="82" y2="245" stroke="#10b981" stroke-width="1"/>
            
            <rect x="88" y="200" width="4" height="22" fill="#10b981" />
            <line x1="90" y1="195" x2="90" y2="230" stroke="#10b981" stroke-width="1"/>
            
            <rect x="96" y="180" width="4" height="20" fill="#10b981" />
            <line x1="98" y1="175" x2="98" y2="205" stroke="#10b981" stroke-width="1"/>
            
            <!-- April-May 2025 - Strong crypto rally -->
            <rect x="120" y="160" width="4" height="25" fill="#10b981" />
            <line x1="122" y1="155" x2="122" y2="190" stroke="#10b981" stroke-width="1"/>
            
            <rect x="128" y="140" width="4" height="20" fill="#10b981" />
            <line x1="130" y1="135" x2="130" y2="165" stroke="#10b981" stroke-width="1"/>
            
            <rect x="136" y="120" width="4" height="18" fill="#10b981" />
            <line x1="138" y1="115" x2="138" y2="145" stroke="#10b981" stroke-width="1"/>
            
            <rect x="144" y="100" width="4" height="22" fill="#10b981" />
            <line x1="146" y1="95" x2="146" y2="130" stroke="#10b981" stroke-width="1"/>
            
            <!-- June 2025 - Peak around 2677 -->
            <rect x="160" y="80" width="4" height="25" fill="#10b981" />
            <line x1="162" y1="75" x2="162" y2="110" stroke="#10b981" stroke-width="1"/>
            
            <rect x="168" y="65" width="4" height="20" fill="#10b981" />
            <line x1="170" y1="60" x2="170" y2="90" stroke="#10b981" stroke-width="1"/>
            
            <rect x="176" y="55" width="4" height="18" fill="#10b981" />
            <line x1="178" y1="50" x2="178" y2="80" stroke="#10b981" stroke-width="1"/>
            
            <rect x="184" y="60" width="4" height="15" fill="#ef4444" />
            <line x1="186" y1="55" x2="186" y2="80" stroke="#ef4444" stroke-width="1"/>
            
            <!-- July-August 2025 - High volatility -->
            <rect x="200" y="70" width="4" height="22" fill="#10b981" />
            <line x1="202" y1="65" x2="202" y2="100" stroke="#10b981" stroke-width="1"/>
            
            <rect x="208" y="65" width="4" height="18" fill="#10b981" />
            <line x1="210" y1="60" x2="210" y2="90" stroke="#10b981" stroke-width="1"/>
            
            <rect x="216" y="75" width="4" height="20" fill="#ef4444" />
            <line x1="218" y1="70" x2="218" y2="100" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="224" y="80" width="4" height="15" fill="#ef4444" />
            <line x1="226" y1="75" x2="226" y2="100" stroke="#ef4444" stroke-width="1"/>
            
            <!-- September 2025 - Correction but still high -->
            <rect x="250" y="100" width="4" height="25" fill="#ef4444" />
            <line x1="252" y1="95" x2="252" y2="130" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="258" y="110" width="4" height="20" fill="#ef4444" />
            <line x1="260" y1="105" x2="260" y2="135" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="266" y="120" width="4" height="18" fill="#ef4444" />
            <line x1="268" y1="115" x2="268" y2="145" stroke="#ef4444" stroke-width="1"/>
            
            <!-- October 2025 - Recovery to current price -->
            <rect x="290" y="110" width="4" height="22" fill="#10b981" />
            <line x1="292" y1="105" x2="292" y2="140" stroke="#10b981" stroke-width="1"/>
            
            <rect x="320" y="100" width="4" height="20" fill="#10b981" />
            <line x1="322" y1="95" x2="322" y2="125" stroke="#10b981" stroke-width="1"/>
            
            <rect x="350" y="90" width="4" height="18" fill="#10b981" />
            <line x1="352" y1="85" x2="352" y2="115" stroke="#10b981" stroke-width="1"/>
            
            <rect x="380" y="85" width="4" height="15" fill="#10b981" />
            <line x1="382" y1="80" x2="382" y2="105" stroke="#10b981" stroke-width="1"/>
            
            <!-- Current price area -->
            <rect x="430" y="80" width="4" height="20" fill="#10b981" />
            <line x1="432" y1="75" x2="432" y2="105" stroke="#10b981" stroke-width="1"/>
            
            <!-- Notable price annotation for Bitcoin low -->
            <text x="290" y="170" font-size="10" fill="#666">1,604.67</text>
          </g>
          
          <!-- Candlestick data points for Indian Concept -->
          <g *ngIf="stockInfo.symbol === 'BK4523'">
            <!-- Early 2025 - Lower prices -->
          <rect x="50" y="220" width="4" height="15" fill="#ef4444" />
          <line x1="52" y1="215" x2="52" y2="240" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="58" y="210" width="4" height="20" fill="#ef4444" />
          <line x1="60" y1="205" x2="60" y2="235" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="66" y="200" width="4" height="25" fill="#10b981" />
          <line x1="68" y1="195" x2="68" y2="230" stroke="#10b981" stroke-width="1"/>
          
          <!-- March 2025 - Start of uptrend -->
          <rect x="80" y="190" width="4" height="18" fill="#10b981" />
          <line x1="82" y1="185" x2="82" y2="215" stroke="#10b981" stroke-width="1"/>
          
          <rect x="88" y="180" width="4" height="22" fill="#10b981" />
          <line x1="90" y1="175" x2="90" y2="210" stroke="#10b981" stroke-width="1"/>
          
          <rect x="96" y="170" width="4" height="20" fill="#10b981" />
          <line x1="98" y1="165" x2="98" y2="195" stroke="#10b981" stroke-width="1"/>
          
          <!-- April 2025 - Strong uptrend -->
          <rect x="120" y="150" width="4" height="25" fill="#10b981" />
          <line x1="122" y1="145" x2="122" y2="180" stroke="#10b981" stroke-width="1"/>
          
          <rect x="128" y="140" width="4" height="20" fill="#10b981" />
          <line x1="130" y1="135" x2="130" y2="165" stroke="#10b981" stroke-width="1"/>
          
          <rect x="136" y="130" width="4" height="18" fill="#10b981" />
          <line x1="138" y1="125" x2="138" y2="155" stroke="#10b981" stroke-width="1"/>
          
          <rect x="144" y="120" width="4" height="22" fill="#10b981" />
          <line x1="146" y1="115" x2="146" y2="150" stroke="#10b981" stroke-width="1"/>
          
          <!-- May 2025 - Peak formation -->
          <rect x="160" y="100" width="4" height="25" fill="#10b981" />
          <line x1="162" y1="95" x2="162" y2="130" stroke="#10b981" stroke-width="1"/>
          
          <rect x="168" y="85" width="4" height="20" fill="#10b981" />
          <line x1="170" y1="80" x2="170" y2="110" stroke="#10b981" stroke-width="1"/>
          
          <rect x="176" y="75" width="4" height="18" fill="#10b981" />
          <line x1="178" y1="70" x2="178" y2="100" stroke="#10b981" stroke-width="1"/>
          
          <rect x="184" y="80" width="4" height="15" fill="#ef4444" />
          <line x1="186" y1="75" x2="186" y2="100" stroke="#ef4444" stroke-width="1"/>
          
          <!-- June 2025 - High volatility -->
          <rect x="200" y="90" width="4" height="22" fill="#10b981" />
          <line x1="202" y1="85" x2="202" y2="120" stroke="#10b981" stroke-width="1"/>
          
          <rect x="208" y="85" width="4" height="18" fill="#10b981" />
          <line x1="210" y1="80" x2="210" y2="110" stroke="#10b981" stroke-width="1"/>
          
          <rect x="216" y="95" width="4" height="20" fill="#ef4444" />
          <line x1="218" y1="90" x2="218" y2="120" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="224" y="100" width="4" height="15" fill="#ef4444" />
          <line x1="226" y1="95" x2="226" y2="120" stroke="#ef4444" stroke-width="1"/>
          
          <!-- July-August 2025 - Decline -->
          <rect x="250" y="120" width="4" height="25" fill="#ef4444" />
          <line x1="252" y1="115" x2="252" y2="150" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="258" y="140" width="4" height="20" fill="#ef4444" />
          <line x1="260" y1="135" x2="260" y2="165" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="266" y="150" width="4" height="18" fill="#ef4444" />
          <line x1="268" y1="145" x2="268" y2="175" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="290" y="160" width="4" height="22" fill="#ef4444" />
          <line x1="292" y1="155" x2="292" y2="185" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="298" y="170" width="4" height="25" fill="#ef4444" />
          <line x1="300" y1="165" x2="300" y2="200" stroke="#ef4444" stroke-width="1"/>
          
          <!-- September 2025 - Bottom formation -->
          <rect x="320" y="180" width="4" height="20" fill="#ef4444" />
          <line x1="322" y1="175" x2="322" y2="205" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="328" y="190" width="4" height="18" fill="#ef4444" />
          <line x1="330" y1="185" x2="330" y2="215" stroke="#ef4444" stroke-width="1"/>
          
          <rect x="336" y="185" width="4" height="15" fill="#ef4444" />
          <line x1="338" y1="180" x2="338" y2="205" stroke="#ef4444" stroke-width="1"/>
          
          <!-- October 2025 - Recovery -->
          <rect x="360" y="175" width="4" height="20" fill="#10b981" />
          <line x1="362" y1="170" x2="362" y2="200" stroke="#10b981" stroke-width="1"/>
          
          <rect x="368" y="165" width="4" height="18" fill="#10b981" />
          <line x1="370" y1="160" x2="370" y2="185" stroke="#10b981" stroke-width="1"/>
          
          <rect x="376" y="155" width="4" height="22" fill="#10b981" />
          <line x1="378" y1="150" x2="378" y2="180" stroke="#10b981" stroke-width="1"/>
          
          <rect x="384" y="145" width="4" height="25" fill="#10b981" />
          <line x1="386" y1="140" x2="386" y2="175" stroke="#10b981" stroke-width="1"/>
          
          <!-- Recent data - Late October -->
          <rect x="400" y="135" width="4" height="20" fill="#10b981" />
          <line x1="402" y1="130" x2="402" y2="160" stroke="#10b981" stroke-width="1"/>
          
          <rect x="408" y="125" width="4" height="18" fill="#10b981" />
          <line x1="410" y1="120" x2="410" y2="150" stroke="#10b981" stroke-width="1"/>
          
          <rect x="416" y="115" width="4" height="22" fill="#10b981" />
          <line x1="418" y1="110" x2="418" y2="145" stroke="#10b981" stroke-width="1"/>
          
          <!-- Current price area -->
          <rect x="430" y="110" width="4" height="20" fill="#10b981" />
          <line x1="432" y1="105" x2="432" y2="135" stroke="#10b981" stroke-width="1"/>
          </g>
          
          <!-- Candlestick data points for Warren Buffett Holdings -->
          <g *ngIf="stockInfo.symbol === 'BK4559'">
            <!-- Early 2025 - Lower prices around 2400-2500 -->
            <rect x="50" y="210" width="4" height="15" fill="#ef4444" />
            <line x1="52" y1="205" x2="52" y2="230" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="58" y="200" width="4" height="20" fill="#ef4444" />
            <line x1="60" y1="195" x2="60" y2="225" stroke="#ef4444" stroke-width="1"/>
            
            <!-- March 2025 - Market dip -->
            <rect x="80" y="230" width="4" height="25" fill="#ef4444" />
            <line x1="82" y1="225" x2="82" y2="260" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="88" y="240" width="4" height="18" fill="#ef4444" />
            <line x1="90" y1="235" x2="90" y2="265" stroke="#ef4444" stroke-width="1"/>
            
            <!-- April 2025 - Recovery begins -->
            <rect x="120" y="220" width="4" height="20" fill="#10b981" />
            <line x1="122" y1="215" x2="122" y2="245" stroke="#10b981" stroke-width="1"/>
            
            <rect x="128" y="200" width="4" height="22" fill="#10b981" />
            <line x1="130" y1="195" x2="130" y2="230" stroke="#10b981" stroke-width="1"/>
            
            <!-- May-June 2025 - Strong uptrend -->
            <rect x="160" y="180" width="4" height="25" fill="#10b981" />
            <line x1="162" y1="175" x2="162" y2="210" stroke="#10b981" stroke-width="1"/>
            
            <rect x="168" y="160" width="4" height="20" fill="#10b981" />
            <line x1="170" y1="155" x2="170" y2="185" stroke="#10b981" stroke-width="1"/>
            
            <rect x="176" y="140" width="4" height="18" fill="#10b981" />
            <line x1="178" y1="135" x2="178" y2="165" stroke="#10b981" stroke-width="1"/>
            
            <!-- July-August 2025 - Reaching highs -->
            <rect x="200" y="120" width="4" height="22" fill="#10b981" />
            <line x1="202" y1="115" x2="202" y2="150" stroke="#10b981" stroke-width="1"/>
            
            <rect x="220" y="100" width="4" height="20" fill="#10b981" />
            <line x1="222" y1="95" x2="222" y2="125" stroke="#10b981" stroke-width="1"/>
            
            <rect x="240" y="80" width="4" height="18" fill="#10b981" />
            <line x1="242" y1="75" x2="242" y2="105" stroke="#10b981" stroke-width="1"/>
            
            <!-- September 2025 - Peak formation around 2766 -->
            <rect x="280" y="70" width="4" height="15" fill="#10b981" />
            <line x1="282" y1="65" x2="282" y2="90" stroke="#10b981" stroke-width="1"/>
            
            <rect x="300" y="65" width="4" height="20" fill="#10b981" />
            <line x1="302" y1="60" x2="302" y2="90" stroke="#10b981" stroke-width="1"/>
            
            <!-- October 2025 - Current levels -->
            <rect x="350" y="75" width="4" height="18" fill="#10b981" />
            <line x1="352" y1="70" x2="352" y2="95" stroke="#10b981" stroke-width="1"/>
            
            <rect x="380" y="78" width="4" height="20" fill="#10b981" />
            <line x1="382" y1="73" x2="382" y2="100" stroke="#10b981" stroke-width="1"/>
            
            <!-- Current price area -->
            <rect x="430" y="80" width="4" height="18" fill="#10b981" />
            <line x1="432" y1="75" x2="432" y2="100" stroke="#10b981" stroke-width="1"/>
          </g>
          
          <!-- Candlestick data points for Nancy Pelosi Portfolio -->
          <g *ngIf="stockInfo.symbol === 'BK4598'">
            <!-- Early 2025 - Starting around 2100-2200 -->
            <rect x="50" y="200" width="4" height="15" fill="#10b981" />
            <line x1="52" y1="195" x2="52" y2="220" stroke="#10b981" stroke-width="1"/>
            
            <rect x="58" y="190" width="4" height="20" fill="#10b981" />
            <line x1="60" y1="185" x2="60" y2="215" stroke="#10b981" stroke-width="1"/>
            
            <!-- March 2025 - Market dip to low around 1762 -->
            <rect x="80" y="230" width="4" height="25" fill="#ef4444" />
            <line x1="82" y1="225" x2="82" y2="260" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="88" y="250" width="4" height="18" fill="#ef4444" />
            <line x1="90" y1="245" x2="90" y2="275" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="96" y="260" width="4" height="20" fill="#ef4444" />
            <line x1="98" y1="255" x2="98" y2="285" stroke="#ef4444" stroke-width="1"/>
            
            <!-- April 2025 - Recovery begins -->
            <rect x="120" y="240" width="4" height="22" fill="#10b981" />
            <line x1="122" y1="235" x2="122" y2="270" stroke="#10b981" stroke-width="1"/>
            
            <rect x="128" y="220" width="4" height="20" fill="#10b981" />
            <line x1="130" y1="215" x2="130" y2="245" stroke="#10b981" stroke-width="1"/>
            
            <!-- May-June 2025 - Strong uptrend -->
            <rect x="160" y="180" width="4" height="25" fill="#10b981" />
            <line x1="162" y1="175" x2="162" y2="210" stroke="#10b981" stroke-width="1"/>
            
            <rect x="168" y="160" width="4" height="20" fill="#10b981" />
            <line x1="170" y1="155" x2="170" y2="185" stroke="#10b981" stroke-width="1"/>
            
            <rect x="176" y="140" width="4" height="18" fill="#10b981" />
            <line x1="178" y1="135" x2="178" y2="165" stroke="#10b981" stroke-width="1"/>
            
            <!-- July-August 2025 - Continued growth -->
            <rect x="200" y="120" width="4" height="22" fill="#10b981" />
            <line x1="202" y1="115" x2="202" y2="150" stroke="#10b981" stroke-width="1"/>
            
            <rect x="220" y="100" width="4" height="20" fill="#10b981" />
            <line x1="222" y1="95" x2="222" y2="125" stroke="#10b981" stroke-width="1"/>
            
            <rect x="240" y="90" width="4" height="18" fill="#10b981" />
            <line x1="242" y1="85" x2="242" y2="115" stroke="#10b981" stroke-width="1"/>
            
            <!-- September 2025 - Peak formation around 2859 -->
            <rect x="280" y="70" width="4" height="15" fill="#10b981" />
            <line x1="282" y1="65" x2="282" y2="90" stroke="#10b981" stroke-width="1"/>
            
            <rect x="300" y="65" width="4" height="20" fill="#10b981" />
            <line x1="302" y1="60" x2="302" y2="90" stroke="#10b981" stroke-width="1"/>
            
            <!-- October 2025 - Slight decline to current levels -->
            <rect x="350" y="75" width="4" height="18" fill="#ef4444" />
            <line x1="352" y1="70" x2="352" y2="95" stroke="#ef4444" stroke-width="1"/>
            
            <rect x="380" y="78" width="4" height="20" fill="#ef4444" />
            <line x1="382" y1="73" x2="382" y2="100" stroke="#ef4444" stroke-width="1"/>
            
            <!-- Current price area - slightly lower -->
            <rect x="430" y="82" width="4" height="18" fill="#ef4444" />
            <line x1="432" y1="77" x2="432" y2="102" stroke="#ef4444" stroke-width="1"/>
          </g>
          
          <!-- Moving average line (different for each asset) -->
          <polyline *ngIf="stockInfo.symbol === 'BK4523'"
            fill="none"
            stroke="#6366f1"
            stroke-width="1.5"
            opacity="0.7"
            points="50,225 80,200 120,160 160,110 200,95 250,135 290,175 320,195 360,180 400,145 430,120"
          />
          
          <polyline *ngIf="stockInfo.symbol === 'BK4594'"
            fill="none"
            stroke="#6366f1"
            stroke-width="1.5"
            opacity="0.7"
            points="50,265 80,230 120,170 160,75 200,70 250,110 290,115 320,105 350,95 380,90 430,85"
          />
          
          <polyline *ngIf="stockInfo.symbol === 'BK4559'"
            fill="none"
            stroke="#6366f1"
            stroke-width="1.5"
            opacity="0.7"
            points="50,215 80,240 120,210 160,170 200,130 240,90 280,75 300,70 350,82 380,85 430,88"
          />
          
          <polyline *ngIf="stockInfo.symbol === 'BK4598'"
            fill="none"
            stroke="#6366f1"
            stroke-width="1.5"
            opacity="0.7"
            points="50,205 80,245 120,235 160,185 200,135 240,105 280,75 300,70 350,83 380,86 430,90"
          />
          
          <!-- Current price indicator -->
          <circle *ngIf="stockInfo?.symbol === 'BK4523'" cx="432" cy="120" r="3" fill="#10b981" stroke="#ffffff" stroke-width="1"/>
          <circle *ngIf="stockInfo?.symbol === 'BK4594'" cx="432" cy="85" r="3" fill="#10b981" stroke="#ffffff" stroke-width="1"/>
          <circle *ngIf="stockInfo?.symbol === 'BK4559'" cx="432" cy="88" r="3" fill="#10b981" stroke="#ffffff" stroke-width="1"/>
          <circle *ngIf="stockInfo?.symbol === 'BK4598'" cx="432" cy="90" r="3" fill="#ef4444" stroke="#ffffff" stroke-width="1"/>
        </svg>
        
        <!-- Price levels -->
        <div class="price-levels">
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4594'">2806.57</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4594'">2677.80</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4594'">2473.90</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4594'">2141.24</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4594'">1808.57</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4594'">1475.90</div>
          
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4523'">1896.26</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4523'">1856.75</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4523'">1794.19</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4523'">1692.12</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4523'">1590.06</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4523'">1487.99</div>
          
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4559'">2853.89</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4559'">2766.00</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4559'">2626.85</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4559'">2399.80</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4559'">2172.75</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4559'">1945.70</div>
          
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4598'">2991.42</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4598'">2859.71</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4598'">2651.16</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4598'">2310.90</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4598'">1970.64</div>
          <div class="price-level" *ngIf="stockInfo.symbol === 'BK4598'">1630.38</div>
        </div>
        
        <!-- Date labels -->
        <div class="date-labels">
          <span>2025/02</span>
          <span>2025/04</span>
          <span>2025/06</span>
          <span>2025/08</span>
          <span>2025/10</span>
        </div>
        
        <!-- Notable price points -->
        <div class="price-annotations">
          <div class="price-point high-point" *ngIf="stockInfo.symbol === 'BK4523'">1,856.75</div>
          <div class="price-point low-point" *ngIf="stockInfo.symbol === 'BK4523'">1,527.50</div>
          
          <div class="price-point high-point" *ngIf="stockInfo.symbol === 'BK4594'">2,677.80</div>
          <div class="price-point low-point" *ngIf="stockInfo.symbol === 'BK4594'">1,604.67</div>
          
          <div class="price-point high-point" *ngIf="stockInfo.symbol === 'BK4559'">2,766.00</div>
          <div class="price-point low-point" *ngIf="stockInfo.symbol === 'BK4559'">2,033.59</div>
          
          <div class="price-point high-point" *ngIf="stockInfo.symbol === 'BK4598'">2,859.71</div>
          <div class="price-point low-point" *ngIf="stockInfo.symbol === 'BK4598'">1,762.09</div>
        </div>
      </div>
      
      <!-- Chart indicators -->
      <div class="chart-indicators">
        <span class="indicator active">MA</span>
        <span class="indicator">BOLL</span>
        <span class="indicator">HMA</span>
        <span class="indicator">PBX</span>
        <span class="indicator">V</span>
        <span class="indicator">DMI</span>
        <span class="indicator">ADTM</span>
        <span class="indicator">Vol</span>
        <span class="indicator">BIAS</span>
        <span class="indicator">E</span>
      </div>
    </div>
  </div>
  
  <!-- Constituent Stocks Section -->
  <div class="constituent-section">
    <div class="section-header">
      <h3>Constituent Stock</h3>
      <span class="arrow">‚Ä∫</span>
    </div>
    
    <div class="constituent-list">
      <div class="constituent-header">
        <span class="symbol-header">Symbol</span>
        <span class="price-header">Last</span>
        <span class="change-header">% Chg</span>
      </div>
      
      <div *ngFor="let stock of constituentStocks" class="constituent-item">
        <div class="symbol-info">
          <div class="symbol-line">
            <span class="symbol">{{stock.symbol}}</span>
            <span class="watchlist-star" *ngIf="stock.hasWatchlist">‚≠ê</span>
          </div>
          <div class="company-info">
            <span class="market-label">{{stock.market}}</span>
            <span class="company-name" *ngIf="stock.companyName">{{stock.companyName}}</span>
          </div>
        </div>
        <span class="last-price">{{stock.lastPrice}}</span>
        <span class="change-percent" [class.positive]="stock.isPositive" [class.negative]="!stock.isPositive">
          {{stock.changePercent > 0 ? '+' : ''}}{{stock.changePercent}}%
        </span>
      </div>
    </div>
  </div>
  
  <!-- Bottom Tabs -->
  <div class="bottom-tabs">
    <div class="tab-headers">
      <button class="tab-header active">News</button>
      <button class="tab-header">Discussions</button>
    </div>
    
    <!-- Bottom Action Bar -->
    <div class="bottom-actions">
      <button class="action-item">
        <div class="action-icon">‚úèÔ∏è</div>
        <span class="action-label">Post</span>
      </button>
      <button class="action-item">
        <div class="action-icon">üìä</div>
        <span class="action-label">Valuation Analysis</span>
      </button>
      <button class="action-item">
        <div class="action-icon">üíõ</div>
        <span class="action-label">Watchlist</span>
      </button>
      <button class="action-item">
        <div class="action-icon">‚ãØ</div>
        <span class="action-label">More</span>
      </button>
    </div>
  </div>
</div>